<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>A3 — React Deck of Cards</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <div id="root"></div>

  <!-- React and ReactDOM -->
  <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>

  <!-- Babel -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Your entire React code goes here -->
  <script type="text/babel">
  // StAuth10244: I Smit Hareshkumar Patel, [Your Student ID] certify that this material is my original work.
  // No other person's work has been used without due acknowledgement. I have not made my work available to anyone else.

  function Card({ value, suit }) {
    const colorClass = suit === "♥" || suit === "♦" ? "red" : "black";
    return (
      <div className={`card ${colorClass}`}>
        <div className="value">{value}</div>
        <div className="suit">{suit}</div>
      </div>
    );
  }

  function App() {
    const suits = ["♥", "♦", "♣", "♠"];
    const values = ["A", "2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K"];

    const generateDeck = () => {
      const deck = [];
      for (let s of suits) {
        for (let v of values) {
          deck.push({ suit: s, value: v });
        }
      }
      return deck;
    };

    const [deck, setDeck] = React.useState(generateDeck());
    const [displayed, setDisplayed] = React.useState([]);

    const dealCards = (count) => {
      if (deck.length === 0) return;

      const newDeck = [...deck];
      const dealt = [];

      for (let i = 0; i < count && newDeck.length > 0; i++) {
        const randomIndex = Math.floor(Math.random() * newDeck.length);
        dealt.push(newDeck[randomIndex]);
        newDeck.splice(randomIndex, 1);
      }

      setDisplayed([...displayed, ...dealt]);
      setDeck(newDeck);
    };

    const resetDeck = () => {
      setDeck(generateDeck());
      setDisplayed([]);
    };

    return (
      <div>
        <h1>React Deck of Cards</h1>

        {deck.length > 0 ? (
          <div className="deck" onClick={() => dealCards(1)}>
            DECK ({deck.length})
          </div>
        ) : (
          <div className="no-cards">No cards remaining</div>
        )}

        {/* BUTTONS */}
        <div style={{ marginTop: "20px", display: "flex", justifyContent: "center", gap: "12px" }}>
          <button onClick={() => dealCards(5)} style={btnStyle}>Deal 5</button>
          <button onClick={() => dealCards(7)} style={btnStyle}>Deal 7</button>
          <button onClick={resetDeck} style={{ ...btnStyle, background: "#ff5252" }}>Reset</button>
        </div>

        {/* DISPLAYED CARDS */}
        <div className="card-container">
          {displayed.map((card, index) => (
            <Card key={index} value={card.value} suit={card.suit} />
          ))}
        </div>
      </div>
    );
  }

  const btnStyle = {
    padding: "10px 18px",
    fontSize: "16px",
    border: "none",
    borderRadius: "8px",
    cursor: "pointer",
    background: "#00bcd4",
    color: "#fff",
    fontWeight: "bold",
    transition: "all 0.2s ease",
  };

  ReactDOM.render(<App />, document.getElementById("root"));
</script>

</body>
</html>
