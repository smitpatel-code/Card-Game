<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>A3 — React Deck of Cards</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <div id="root"></div>

  <!-- React and ReactDOM -->
  <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>

  <!-- Babel -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Your entire React code goes here -->
  <script type="text/babel">
    // StAuth10244: I Smit Hareshkumar Patel, [Your Student ID] certify that this material is my original work.
    // No other person's work has been used without due acknowledgement. I have not made my work available to anyone else.

    function Card({ value, suit }) {
      const suitColor = suit === "♥" || suit === "♦" ? "red" : "black";
      return (
        <div className="card" style={{ color: suitColor }}>
          <div className="value">{value}</div>
          <div className="suit">{suit}</div>
        </div>
      );
    }

    function App() {
      const suits = ["♥", "♦", "♣", "♠"];
      const values = ["A", "2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K"];

      const generateDeck = () => {
        const deck = [];
        for (let s of suits) {
          for (let v of values) {
            deck.push({ suit: s, value: v });
          }
        }
        return deck;
      };

      const [deck, setDeck] = React.useState(generateDeck());
      const [displayed, setDisplayed] = React.useState([]);

      const handleDeckClick = () => {
        if (deck.length === 0) return;

        const randomIndex = Math.floor(Math.random() * deck.length);
        const randomCard = deck[randomIndex];

        setDisplayed([...displayed, randomCard]);
        setDeck(deck.filter((_, i) => i !== randomIndex));
      };

      return (
        <div style={{ padding: 20, textAlign: "center" }}>
          <h1>React Deck of Cards</h1>

          {deck.length > 0 ? (
            <div
              onClick={handleDeckClick}
              className="deck"
              style={{
                width: "120px",
                height: "160px",
                margin: "20px auto",
                background: "green",
                borderRadius: "10px",
                boxShadow: "0 4px 10px rgba(0,0,0,0.3)",
                cursor: "pointer",
                display: "flex",
                alignItems: "center",
                justifyContent: "center",
                color: "white",
                fontWeight: "bold",
              }}
            >
              DECK ({deck.length})
            </div>
          ) : (
            <div
              style={{
                width: "120px",
                height: "160px",
                margin: "20px auto",
                border: "2px dashed gray",
                display: "flex",
                alignItems: "center",
                justifyContent: "center",
                fontWeight: "bold",
              }}
            >
              No cards remaining
            </div>
          )}

          <div
            style={{
              display: "flex",
              flexWrap: "wrap",
              gap: "10px",
              justifyContent: "center",
              marginTop: "20px",
            }}
          >
            {displayed.map((card, index) => (
              <Card key={index} value={card.value} suit={card.suit} />
            ))}
          </div>
        </div>
      );
    }

    ReactDOM.render(<App />, document.getElementById("root"));
  </script>
</body>
</html>
